<tool id="bam2anno" name="BAM2Anno">
  <description>Generates an annotation gene structure object (AGS) from RNA-Seq alignments</description>
  <command>~/bin/octave_start_script.sh
    "setup_mgene; galaxy_bam2anno(
    '$Genome_Information.extra_files_path', '$bam_alignments.extra_files_path', '$Annotation.extra_files_path');"
    >> $Log_File; ~/bin/cleanup_output.sh $Log_File</command>
  <inputs>
    <param format="gio" name="Genome_Information" type="data" label="Genome information file" help="Internal representation of the genomic sequence (e.g., chromosomes or contigs). The GIO file can be created with the GenomeTool."/>
    <param format="bam" name="bam_alignments" type="data" label="BAM alignment file" help="BAM alignment file. Can be generated from SAM files using the SAM Tools."/>
  </inputs>
  <outputs>
    <data format="gann" name="Annotation" label="Genome Annotation in AGS format"/>
    <data format="txt" name="Log_File" label="Log File"/>
  </outputs>

  <help>

.. class:: infomark


**What it does**

This tool reads RNA-Seq alignments in BAM format and uses it to
generate an annotation gene structure (AGS). This tool can be used in
conjunction with Anno2SignalLabel or Anno2ContentLabel in order to
generate labeled examples for specific signals.


.. class:: infomark

**About formats**

**GIO format** Genome Information Object is an internal format used to
store relevant information about the genome under consideration (as
extracted from a FASTA file). It includes, for example, number and
length of chromosomes/contigs. The file is generated by applying the
`GenomeTool`.

**SAM/BAM format** The Sequence Alignment/Map (SAM) format is a
tab-limited text format that stores large nucleotide sequence
alignments. BAM is the binary version of a SAM file that allows for
fast and intensive data processing. The format specification and the
description of SAMtools can be found on
http://samtools.sourceforge.net/.

**AGS format** Annotation Gene Structure Object is an internal
structure that efficiently stores the information about transcriptionally
active regions or genes.


</help>
</tool>

