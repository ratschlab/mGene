<tool id="mgene_parsegff" name="mGene_parseGFF">
  <description>Generates an annotation gene structure object (AGS)</description>
  <command>~/svn/releases/mGeneToolbox-0.2.0/release/src/parsegff/GFFParser.sh $gff_input $Annotation.extra_files_path/genes.mat $genome.extra_files_path $Annotation >> $Log_File; ~/bin/cleanup_output.sh $Log_File </command>
  
  <inputs>
    <param format="gio" name="genome" type="data" label="Genome information file" help="Genome information file in GIO format containing information about the chromosomes/contigs of the genome. It can be created with the GenomeTool."/>
    <param format="gff3" name="gff_input" type="data" label="Genome annotation in GFF3 format" help="Partial genome annotation in GFF3 format describing the known gene structures for the provided genome."/>
  </inputs>
  <outputs>
    <data format="gann" name="Annotation" label="Genome Annotation in AGS format"/>
    <data format="txt" name="Log_File" label="Log File"/>
  </outputs>
  <tests>
    <test>
      <param name="genome" value="/tmp/tmpu3cX3y/database/files/000/dataset_3_files/genome.config" ftype="gio" />
      <param name="gff_input" value="tair9_chr4.gff3" ftype="gff3" />
      <output name="output2" file="tair9_chr4.gann" />
    </test>
  </tests> 
  
  <help>

.. class:: infomark

**What it does**

This tool reads an annotation file in GFF3 format and uses it to
generate an annotation gene structure (AGS). This tool can be used in
conjunction with Anno2SignalLabel or Anno2ContentLabel in order to
generate labeled examples for specific signals.

--------

**Example GFF3 Fragment**

   CHR1	TAIR8	gene	        11649	13714	.	-	.	ID=AT1G01030;Name=AT1G01030
   CHR1	TAIR8	mRNA	        11649	13714	.	-	.	ID=AT1G01030.1;Parent=AT1G01030;Name=AT1G01030.1;Index=1
   CHR1	TAIR8	exon	        13335	13714	.	-	.	Parent=AT1G01030.1
   CHR1	TAIR8	exon	        11649	13173	.	-	.	Parent=AT1G01030.1

------

.. class:: infomark

**About formats**

**GFF format** General Feature Format is a format for describing genes
and other features associated with DNA, RNA and Protein sequences. GFF
lines have nine tab-separated fields::

    1. seqname - Must be a chromosome or scaffold.
    2. source - The program that generated this feature.
    3. feature - The name of this type of feature. Some examples of standard feature types are "CDS", "start_codon", "stop_codon", and "exon".
    4. start - The starting position of the feature in the sequence. The first base is numbered 1.
    5. end - The ending position of the feature (inclusive).
    6. score - A score between 0 and 1000. If there is no score value, enter ".".
    7. strand - Valid entries include '+', '-', or '.' (for don't know/care).
    8. frame - If the feature is a coding exon, frame should be a number between 0-2 that represents the reading frame of the first base. If the feature is not a coding exon, the value should be '.'.
    9. group - All lines with the same group are linked together into a single item.

</help>
</tool>
